{
  "version": "2.0.0",
  "description": "Optimized configuration with ToT + Reflection for 22-38% performance uplift",
  
  "enrichment": {
    "enabled": true,
    "layers": {
      "design_guidance": true,
      "excellence_criteria": true,
      "tool_preferences": true,
      "workspace_methodology": true
    },
    "ultra_mode": {
      "enabled": true,
      "description": "Activates ToT + Reflection + Uncertainty + ReAct for extreme complexity",
      "trigger_complexity": "extreme",
      "trigger_keywords": [
        "orchestrate",
        "multi-agent",
        "research",
        "plan",
        "design system",
        "architecture",
        "evaluate alternatives",
        "decision matrix",
        "production",
        "mission-critical"
      ],
      "auto_activate_threshold": 2
    }
  },
  
  "tot_reflection": {
    "enabled": true,
    "description": "Tree-of-Thought + Mandatory Reflection (12-25% quality uplift)",
    "min_approaches": 2,
    "max_approaches": 3,
    "confidence_threshold": 8,
    "mandatory_critique": true,
    "quality_gate_minimum_score": 9,
    "require_assumption_audit": true,
    "require_plan_b": true
  },
  
  "output_format": {
    "enforce_structure": true,
    "description": "Reduces malformed outputs by 15-30%",
    "require_explicit_sections": [
      "Approach Summary",
      "Implementation",
      "Testing Strategy",
      "Self-Critique"
    ],
    "json_validation": true,
    "tool_call_validation": true
  },
  
  "uncertainty_handling": {
    "enabled": true,
    "require_explicit_assumptions": true,
    "require_plan_b_for_ambiguity": true,
    "risk_levels": ["low", "medium", "high"],
    "high_risk_requires_clarification": true
  },
  
  "orchestrator_optimization": {
    "enabled": true,
    "description": "Specific optimizations for orchestration",
    "enforce_react_format": true,
    "enable_parallel_tool_use": true,
    "require_self_correction": true,
    "code_verification_with_execution": true
  },
  
  "bypass": {
    "prefixes": ["*", "/", "#"],
    "patterns": [],
    "description": "Skip enrichment when user prefixes prompt with bypass character"
  },
  
  "research": {
    "required_phase": true,
    "tools_preference": [
      "conversation_history",
      "codebase",
      "documentation",
      "web_search"
    ],
    "max_research_depth": 3
  },
  
  "questions": {
    "max_count": 6,
    "style": "specific_options",
    "require_research_first": true,
    "only_ask_critical_ambiguities": true
  },
  
  "performance": {
    "monitoring_enabled": true,
    "timeout_ms": 500,
    "log_level": "WARNING",
    "cache_templates": true
  },
  
  "learning": {
    "historical_learning_enabled": true,
    "adaptive_refinement_enabled": true,
    "performance_tracking_enabled": true,
    "cleanup_old_data_days": 30
  }
}
